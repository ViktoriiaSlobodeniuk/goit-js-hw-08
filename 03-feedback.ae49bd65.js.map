{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAY,sBAEZC,EAASC,SAASC,cAAc,kBAEtCF,EAAOG,iBAAiB,UAYxB,SAAsBC,GACpBA,EAAIC,iBAEJC,QAAQC,IAAIC,aAAaC,QAAQV,IAEjCK,EAAIM,cAAcC,QAClBH,aAAaI,WAAWb,E,IAjB1BC,EAAOG,iBAAiB,QAASN,GAoBjC,WACE,IAAMgB,EAAW,CACfC,MAAOd,EAAOe,SAASD,MAAME,MAC7BC,QAASjB,EAAOe,SAASE,QAAQD,OAEnCR,aAAaU,QAAQnB,EAAWoB,KAAKC,UAAUP,G,GAzBM,MAEvD,IAAMQ,EAAgBb,aAAaC,QAAQV,GACrCuB,EAAiBH,KAAKI,MAAMF,GAG3BG,GAAS,EAATC,GAAS,EAATC,OAASC,EADhB,GAAIL,EAAc,IAChB,QAAKM,EAAAC,EAAaC,OAAOC,KAAKT,GAAeU,OAAAC,cAAxCT,GAAAI,EAAAC,EAASK,QAAAC,MAATX,GAAS,GAAT,IAAMY,EAANR,EAASZ,MACZhB,EAAOe,SAASqB,GAAKpB,MAAQM,EAAec,E,WADzCX,GAAS,EAATC,EAASW,C,aAATb,GAAS,MAATK,EAASS,QAATT,EAASS,Q,YAATb,E,MAAAC,C","sources":["src/js/03-feedback.js"],"sourcesContent":["var throttle = require('lodash/throttle');\n\nconst KEY_LOCAL = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\n\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nconst savedFormData = localStorage.getItem(KEY_LOCAL);\nconst parsedFormData = JSON.parse(savedFormData);\n\nif (parsedFormData) {\n  for (const key of Object.keys(parsedFormData)) {\n    formEl.elements[key].value = parsedFormData[key];\n  }\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  console.log(localStorage.getItem(KEY_LOCAL));\n\n  evt.currentTarget.reset();\n  localStorage.removeItem(KEY_LOCAL);\n}\n\nfunction onFormInput() {\n  const formData = {\n    email: formEl.elements.email.value,\n    message: formEl.elements.message.value,\n  };\n  localStorage.setItem(KEY_LOCAL, JSON.stringify(formData));\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$KEY_LOCAL","$b00c40859be242c5$var$formEl","document","querySelector","addEventListener","evt","preventDefault","console","log","localStorage","getItem","currentTarget","reset","removeItem","formData","email","elements","value","message","setItem","JSON","stringify","$b00c40859be242c5$var$savedFormData","$b00c40859be242c5$var$parsedFormData","parse","$b00c40859be242c5$var$_iteratorNormalCompletion","$b00c40859be242c5$var$_didIteratorError","$b00c40859be242c5$var$_iteratorError","undefined","$b00c40859be242c5$var$_step","$b00c40859be242c5$var$_iterator","Object","keys","Symbol","iterator","next","done","$b00c40859be242c5$var$key","err","return"],"version":3,"file":"03-feedback.ae49bd65.js.map"}