{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAASC,SAASC,cAAc,kBAEtCF,EAAOG,iBAAiB,UAYxB,SAAsBC,GACpBA,EAAIC,iBAEJC,QAAQC,IAAIC,aAAaC,QAnBT,wBAqBhBL,EAAIM,cAAcC,QAClBH,aAAaI,WAtBG,sB,IAKlBZ,EAAOG,iBAAiB,QAASL,GAoBjC,WACE,MAAMe,EAAW,CACfC,MAAOd,EAAOe,SAASD,MAAME,MAC7BC,QAASjB,EAAOe,SAASE,QAAQD,OAEnCR,aAAaU,QA9BG,sBA8BgBC,KAAKC,UAAUP,G,GAzBM,MAEvD,MAAMQ,EAAgBb,aAAaC,QAPjB,uBAQZa,EAAiBH,KAAKI,MAAMF,GAElC,GAAIC,EACF,IAAK,MAAME,KAAOC,OAAOC,KAAKJ,GAC5BtB,EAAOe,SAASS,GAAKR,MAAQM,EAAeE","sources":["src/js/03-feedback.js"],"sourcesContent":["var throttle = require('lodash/throttle');\n\nconst KEY_LOCAL = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\n\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nconst savedFormData = localStorage.getItem(KEY_LOCAL);\nconst parsedFormData = JSON.parse(savedFormData);\n\nif (parsedFormData) {\n  for (const key of Object.keys(parsedFormData)) {\n    formEl.elements[key].value = parsedFormData[key];\n  }\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  console.log(localStorage.getItem(KEY_LOCAL));\n\n  evt.currentTarget.reset();\n  localStorage.removeItem(KEY_LOCAL);\n}\n\nfunction onFormInput() {\n  const formData = {\n    email: formEl.elements.email.value,\n    message: formEl.elements.message.value,\n  };\n  localStorage.setItem(KEY_LOCAL, JSON.stringify(formData));\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","evt","preventDefault","console","log","localStorage","getItem","currentTarget","reset","removeItem","formData","email","elements","value","message","setItem","JSON","stringify","$945622fd0f572e60$var$savedFormData","$945622fd0f572e60$var$parsedFormData","parse","key","Object","keys"],"version":3,"file":"03-feedback.52925949.js.map"}